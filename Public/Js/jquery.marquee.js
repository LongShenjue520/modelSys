!function(e){e.fn.kxbdMarquee=function(t){var n=e.extend({},e.fn.kxbdMarquee.defaults,t);return this.each(function(){function t(){var e="left"==n.direction||"right"==n.direction?"scrollLeft":"scrollTop";if(n.loop>0&&(f+=n.scrollAmount,f>a*n.loop))return l[e]=0,clearInterval(d);if("left"==n.direction||"up"==n.direction){var t=l[e]+n.scrollAmount;t>=a&&(t-=a),l[e]=t}else{var t=l[e]-n.scrollAmount;0>=t&&(t+=a),l[e]=t}}var o=e(this),l=o.get(0),r=o.width(),i=o.height(),c=o.children(),u=c.children(),a=0,s="left"==n.direction||"right"==n.direction?1:0;if(c.attr("class")?"":c.css(s?"width":"height",1e4),n.isEqual?a=u[s?"outerWidth":"outerHeight"]()*u.length:u.each(function(){a+=e(this)[s?"outerWidth":"outerHeight"]()}),!((s?r:i)>a)){c.attr("class")?"":c.append(u.clone()).css(s?"width":"height",2*a);var d,f=0;n.delay>0?setTimeout(function(){d=setInterval(t,n.scrollDelay)},1e3*n.delay):d=setInterval(t,n.scrollDelay),o.hover(function(){clearInterval(d)},function(){clearInterval(d),d=setInterval(t,n.scrollDelay)}),n.controlBtn&&e.each(n.controlBtn,function(t,o){e(o).bind(n.eventA,function(){n.direction=t,n.oldAmount=n.scrollAmount,n.scrollAmount=n.newAmount}).bind(n.eventB,function(){n.scrollAmount=n.oldAmount})})}})},e.fn.kxbdMarquee.defaults={delay:0,isEqual:!0,loop:0,direction:"left",scrollAmount:1,scrollDelay:30,newAmount:3,eventA:"mousedown",eventB:"mouseup"},e.fn.kxbdMarquee.setDefaults=function(t){e.extend(e.fn.kxbdMarquee.defaults,t)}}(jQuery);