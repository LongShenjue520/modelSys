function computeStart(e){return computeStartDate(e).getTime()}function computeStartDate(e){var t=new Date(e+432e5);for(t.setHours(0,0,0,0);isHoliday(t);)t.setDate(t.getDate()+1);return t.setHours(0,0,0,0),t}function computeEnd(e){return computeEndDate(e).getTime()}function computeEndDate(e){var t=new Date(e-432e5);for(t.setHours(23,59,59,999);isHoliday(t);)t.setDate(t.getDate()+1);return t.setHours(23,59,59,999),t}function computeEndByDuration(e,t){for(var i=new Date(e),s=t-1;s>0;)i.setDate(i.getDate()+1),isHoliday(i)||s--;return i.setHours(23,59,59,999),i.getTime()}function incrementDateByWorkingDays(e,t){var i=new Date(e);return i.incrementDateByWorkingDays(t),i.getTime()}function recomputeDuration(e,t){return new Date(e).distanceInWorkingDays(new Date(t))}$.gridify=function(e,t){var i={resizeZoneWidth:10};$.extend(i,t);var s=$("<div>").addClass("gdfWrapper");s.append(e);var d=e.clone();d.addClass("fixHead"),d.find("tbody").remove(),s.append(d),s.append(e);for(var n=d.find(".gdfColHeader"),r=e.find(".gdfColHeader"),o=0;o<n.length;o++)n.eq(o).data("fTh",r.eq(o));return e.width(0),d.width(0),d.find("th.gdfColHeader.gdfResizable:not(.gdfied)").mouseover(function(){$(this).addClass("gdfColHeaderOver")}).bind("mouseout.gdf",function(){$(this).removeClass("gdfColHeaderOver"),$.gridify.columInResize||$("body").removeClass("gdfHResizing")}).bind("mousemove.gdf",function(e){if(!$.gridify.columInResize){var t=$(this),s=e.pageX-t.offset().left;t.width()-s<i.resizeZoneWidth?$("body").addClass("gdfHResizing"):$("body").removeClass("gdfHResizing")}}).bind("mousedown.gdf",function(e){var t=$(this),s=e.pageX-t.offset().left;t.width()-s<i.resizeZoneWidth&&($("body").unselectable(),$.gridify.columInResize=$(this),$(document).bind("mousemove.gdf",function(e){var t=e.pageX-$.gridify.columInResize.offset().left;$.gridify.columInResize.width(t),$.gridify.columInResize.data("fTh").width(t)}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable(),$("body").removeClass("gdfHResizing"),delete $.gridify.columInResize}))}).addClass("gdfied unselectable").attr("unselectable","true"),e.find("td.gdfCell:not(.gdfied)").each(function(){var e=$(this);if(e.is(".gdfEditable")){var t=$("<input type='text'>").addClass("gdfCellInput");t.val(e.text()),e.empty().append(t)}else{var i=$("<div>").addClass("gdfCellWrap");i.html(e.html()),e.empty().append(i)}}).addClass("gdfied"),s},$.splittify={init:function(e,t,i,s){function d(e,t,i,s){this.element=e,this.firstBox=t,this.secondBox=i,this.splitterBar=s,this.perc=0,this.firstBoxMinWidth=0,this.resize=function(e){this.perc=e?e:this.perc;var t=this.element.width(),i=this.firstBox.get(0).scrollWidth,s=t*this.perc/100;s=s>this.firstBoxMinWidth?s:this.firstBoxMinWidth,s=i>s?s:i,this.firstBox.css({width:s}),this.splitterBar.css({left:s}),this.secondBox.css({left:s+this.splitterBar.width(),width:t-s-this.splitterBar.width()})}}s=s||50;var n=$("<div>").addClass("splitterContainer"),r=$("<div>").addClass("splitElement splitBox1"),o=$("<div>").addClass("splitElement vSplitBar").attr("unselectable","on").html("|").css("padding-top",e.height()/2+"px"),a=$("<div>").addClass("splitElement splitBox2"),l=new d(n,r,a,o);l.perc=s,r.append(t),a.append(i),n.append(r).append(a).append(o),e.append(n);var f=e.innerWidth(),p=f*s/100-o.width(),u=r.get(0).scrollWidth;p=p>u?u:p,r.width(p).css({left:0}),o.css({left:r.width()}),a.width(f-p-o.width()).css({left:r.width()+o.width()}),o.bind("mousedown.gdf",function(e){$.splittify.splitterBar=$(this);var t=r.get(0).scrollWidth;$("body").unselectable().bind("mousemove.gdf",function(e){var i=$.splittify.splitterBar,s=e.pageX-i.parent().offset().left,d=i.parent().width();s=s>l.firstBoxMinWidth?s:l.firstBoxMinWidth,s=t-10>s?s:t-10,i.css({left:s}),r.width(s),a.css({left:s+i.width(),width:d-s-i.width()}),l.perc=r.width()/l.element.width()*100}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable(),delete $.splittify.splitterBar})});var h=!1,c=r.add(a);return c.scroll(function(t){var i=$(this),s=i.scrollTop();i.is(".splitBox1")&&"splitBox2"!=h?(h="splitBox1",a.scrollTop(s)):i.is(".splitBox2")&&"splitBox1"!=h&&(h="splitBox2",r.scrollTop(s)),a.find(".fixHead").css("top",s),r.find(".fixHead").css("top",s),e.stopTime("reset").oneTime(100,"reset",function(){h=""})}),l}},Array.prototype.filter||(Array.prototype.filter=function(e){var t=this.length;if("function"!=typeof e)throw new TypeError;for(var i=new Array,s=arguments[1],d=0;t>d;d++)if(d in this){var n=this[d];e.call(s,n,d,this)&&i.push(n)}return i});