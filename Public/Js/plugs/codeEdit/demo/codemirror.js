var CodeMirrorConfig=window.CodeMirrorConfig||{},CodeMirror=function(){function e(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}function t(e,t){for(var i=0;i<e.length;i++)t(e[i])}function i(e){return document.createElementNS&&null!==document.documentElement.namespaceURI?document.createElementNS("http://www.w3.org/1999/xhtml",e):document.createElement(e)}function n(e,t){var n=i("div"),o=i("div");if(n.style.position="absolute",n.style.height="100%",n.style.setExpression)try{n.style.setExpression("height","this.previousSibling.offsetHeight + 'px'")}catch(r){}return n.style.top="0px",n.style.left="0px",n.style.overflow="hidden",e.appendChild(n),o.className="CodeMirror-line-numbers",n.appendChild(o),o.innerHTML="<div>"+t+"</div>",n}function o(e){"string"==typeof e.parserfile&&(e.parserfile=[e.parserfile]),"string"==typeof e.basefiles&&(e.basefiles=[e.basefiles]),"string"==typeof e.stylesheet&&(e.stylesheet=[e.stylesheet]);var i=' spellcheck="'+(e.disableSpellcheck?"false":"true")+'"',n=['<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html'+i+"><head>"];n.push('<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"/>');var o=e.noScriptCaching?"?nocache="+(new Date).getTime().toString(16):"";return t(e.stylesheet,function(e){n.push('<link rel="stylesheet" type="text/css" href="'+e+o+'"/>')}),t(e.basefiles.concat(e.parserfile),function(t){/^https?:/.test(t)||(t=e.path+t),n.push('<script type="text/javascript" src="'+t+o+'"></script>')}),n.push('</head><body style="border-width: 0;" class="editbox"'+i+"></body></html>"),n.join("")}function r(t,r){this.options=r=r||{},e(r,CodeMirrorConfig),r.dumbTabs?r.tabMode="spaces":r.normalTab&&(r.tabMode="default"),r.cursorActivity&&(r.onCursorActivity=r.cursorActivity);var a=this.frame=i("iframe");r.iframeClass&&(a.className=r.iframeClass),a.frameBorder=0,a.style.border="0",a.style.width="100%",a.style.height="100%",a.style.display="block";var l=this.wrapping=i("div");l.style.position="relative",l.className="CodeMirror-wrapping",l.style.width=r.width,l.style.height="dynamic"==r.height?r.minHeight+"px":r.height;var u=this.textareaHack=i("textarea");l.appendChild(u),u.style.position="absolute",u.style.left="-10000px",u.style.width="10px",u.tabIndex=1e5,a.CodeMirror=this,r.domain&&s?(this.html=o(r),a.src="javascript:(function(){document.open();"+(r.domain?'document.domain="'+r.domain+'";':"")+"document.write(window.frameElement.CodeMirror.html);document.close();})()"):a.src="javascript:;",t.appendChild?t.appendChild(l):t(l),l.appendChild(a),r.lineNumbers&&(this.lineNumbers=n(l,r.firstLineNumber)),this.win=a.contentWindow,r.domain&&s||(this.win.document.open(),this.win.document.write(o(r)),this.win.document.close())}e(CodeMirrorConfig,{stylesheet:[],path:"",parserfile:[],basefiles:["util.js","stringstream.js","select.js","undo.js","editor.js","tokenize.js"],iframeClass:null,passDelay:200,passTime:50,lineNumberDelay:200,lineNumberTime:50,continuousScanning:!1,saveFunction:null,onLoad:null,onChange:null,undoDepth:50,undoDelay:800,disableSpellcheck:!0,textWrapping:!0,readOnly:!1,width:"",height:"300px",minHeight:100,onDynamicHeightChange:null,autoMatchParens:!1,markParen:null,unmarkParen:null,parserConfig:null,tabMode:"indent",enterMode:"indent",electricChars:!0,reindentOnLoad:!1,activeTokens:null,onCursorActivity:null,lineNumbers:!1,firstLineNumber:1,onLineNumberClick:null,indentUnit:2,domain:null,noScriptCaching:!1,incrementalLoading:!1});var s=document.selection&&window.ActiveXObject&&/MSIE/.test(navigator.userAgent);return r.prototype={init:function(){this.options.initCallback&&this.options.initCallback(this),this.options.onLoad&&this.options.onLoad(this),this.options.lineNumbers&&this.activateLineNumbers(),this.options.reindentOnLoad&&this.reindent(),"dynamic"==this.options.height&&this.setDynamicHeight()},getCode:function(){return this.editor.getCode()},setCode:function(e){this.editor.importCode(e)},selection:function(){return this.focusIfIE(),this.editor.selectedText()},reindent:function(){this.editor.reindent()},reindentSelection:function(){this.focusIfIE(),this.editor.reindentSelection(null)},focusIfIE:function(){this.win.select.ie_selection&&document.activeElement!=this.frame&&this.focus()},focus:function(){this.win.focus(),this.editor.selectionSnapshot&&this.win.select.setBookmark(this.win.document.body,this.editor.selectionSnapshot)},replaceSelection:function(e){return this.focus(),this.editor.replaceSelection(e),!0},replaceChars:function(e,t,i){this.editor.replaceChars(e,t,i)},getSearchCursor:function(e,t,i){return this.editor.getSearchCursor(e,t,i)},undo:function(){this.editor.history.undo()},redo:function(){this.editor.history.redo()},historySize:function(){return this.editor.history.historySize()},clearHistory:function(){this.editor.history.clear()},grabKeys:function(e,t){this.editor.grabKeys(e,t)},ungrabKeys:function(){this.editor.ungrabKeys()},setParser:function(e,t){this.editor.setParser(e,t)},setSpellcheck:function(e){this.win.document.body.spellcheck=e},setStylesheet:function(e){"string"==typeof e&&(e=[e]);for(var t,i={},n={},o=this.win.document.getElementsByTagName("link"),r=0;t=o[r];r++)if(-1!==t.rel.indexOf("stylesheet"))for(var s=0;s<e.length;s++){var a=e[s];t.href.substring(t.href.length-a.length)===a&&(i[t.href]=!0,n[a]=!0)}for(var t,r=0;t=o[r];r++)-1!==t.rel.indexOf("stylesheet")&&(t.disabled=!(t.href in i));for(var s=0;s<e.length;s++){var a=e[s];if(!(a in n)){var t=this.win.document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=a,this.win.document.getElementsByTagName("head")[0].appendChild(t)}}},setTextWrapping:function(e){e!=this.options.textWrapping&&(this.win.document.body.style.whiteSpace=e?"":"nowrap",this.options.textWrapping=e,this.lineNumbers&&(this.setLineNumbers(!1),this.setLineNumbers(!0)))},setIndentUnit:function(e){this.win.indentUnit=e},setUndoDepth:function(e){this.editor.history.maxDepth=e},setTabMode:function(e){this.options.tabMode=e},setEnterMode:function(e){this.options.enterMode=e},setLineNumbers:function(e){e&&!this.lineNumbers?(this.lineNumbers=n(this.wrapping,this.options.firstLineNumber),this.activateLineNumbers()):!e&&this.lineNumbers&&(this.wrapping.removeChild(this.lineNumbers),this.wrapping.style.paddingLeft="",this.lineNumbers=null)},cursorPosition:function(e){return this.focusIfIE(),this.editor.cursorPosition(e)},firstLine:function(){return this.editor.firstLine()},lastLine:function(){return this.editor.lastLine()},nextLine:function(e){return this.editor.nextLine(e)},prevLine:function(e){return this.editor.prevLine(e)},lineContent:function(e){return this.editor.lineContent(e)},setLineContent:function(e,t){this.editor.setLineContent(e,t)},removeLine:function(e){this.editor.removeLine(e)},insertIntoLine:function(e,t,i){this.editor.insertIntoLine(e,t,i)},selectLines:function(e,t,i,n){this.win.focus(),this.editor.selectLines(e,t,i,n)},nthLine:function(e){for(var t=this.firstLine();e>1&&t!==!1;e--)t=this.nextLine(t);return t},lineNumber:function(e){for(var t=0;e!==!1;)t++,e=this.prevLine(e);return t},jumpToLine:function(e){"number"==typeof e&&(e=this.nthLine(e)),this.selectLines(e,0),this.win.focus()},currentLine:function(){return this.lineNumber(this.cursorLine())},cursorLine:function(){return this.cursorPosition().line},cursorCoords:function(e){return this.editor.cursorCoords(e)},activateLineNumbers:function(){function e(){if(0!=s.offsetWidth){for(var e=s;e.parentNode;e=e.parentNode);if(!d.parentNode||e!=document||!a.Editor){try{p()}catch(t){}return void clearInterval(m)}d.offsetWidth!=f&&(f=d.offsetWidth,s.parentNode.style.paddingLeft=f+"px")}}function t(){d.scrollTop=u.scrollTop||l.documentElement.scrollTop||0}function n(e){var t=h.firstChild.offsetHeight;if(0!=t)for(var n=50+Math.max(u.offsetHeight,Math.max(s.offsetHeight,u.scrollHeight||0)),o=Math.ceil(n/t),r=h.childNodes.length;o>=r;r++){var a=i("div");a.appendChild(document.createTextNode(e?String(r+c.options.firstLineNumber):"Â ")),h.appendChild(a)}}function o(){function e(){n(!0),t()}c.updateNumbers=e;var i=a.addEventHandler(a,"scroll",t,!0),o=a.addEventHandler(a,"resize",e,!0);p=function(){i(),o(),c.updateNumbers==e&&(c.updateNumbers=null)},e()}function r(){function e(e,t){f||(f=h.appendChild(i("div"))),v&&v(f,t,e),b.push(f),b.push(e),g=f.offsetHeight+f.offsetTop,f=f.nextSibling}function o(){for(var e=0;e<b.length;e+=2)b[e].innerHTML=b[e+1];b=[]}function r(){if(h.parentNode&&h.parentNode==c.lineNumbers){for(var i=(new Date).getTime()+c.options.lineNumberTime;d;){for(e(m++,d.previousSibling);d&&!a.isBR(d);d=d.nextSibling)for(var n=d.offsetTop+d.offsetHeight;h.offsetHeight&&n-3>g;){var s=g;if(e("&nbsp;"),s>=g)break}if(d&&(d=d.nextSibling),(new Date).getTime()>i)return o(),void(y=setTimeout(r,c.options.lineNumberDelay))}for(;f;)e(m++);o(),t()}}function s(e){t(),n(e),d=u.firstChild,f=h.firstChild,g=0,m=c.options.firstLineNumber,r()}function l(){y&&clearTimeout(y),c.editor.allClean()?s():y=setTimeout(l,200)}var d,f,m,g,b=[],v=c.options.styleNumbers;s(!0);var y=null;c.updateNumbers=l;var C=a.addEventHandler(a,"scroll",t,!0),w=a.addEventHandler(a,"resize",l,!0);p=function(){y&&clearTimeout(y),c.updateNumbers==l&&(c.updateNumbers=null),C(),w()}}var s=this.frame,a=s.contentWindow,l=a.document,u=l.body,d=this.lineNumbers,h=d.firstChild,c=this,f=null;d.onclick=function(e){var t=c.options.onLineNumberClick;if(t){var i=(e||window.event).target||(e||window.event).srcElement,n=i==d?NaN:Number(i.innerHTML);isNaN(n)||t(n,i)}};var p=function(){};e();var m=setInterval(e,500);(this.options.textWrapping||this.options.styleNumbers?r:o)()},setDynamicHeight:function(){function e(){for(var e,i=0,s=o.lastChild;s&&n.isBR(s);)s.hackBR||i++,s=s.previousSibling;s?(r=s.offsetHeight,e=s.offsetTop+(1+i)*r):r&&(e=i*r),e&&(t.options.onDynamicHeightChange&&(e=t.options.onDynamicHeightChange(e)),e&&(t.wrapping.style.height=Math.max(a+e,t.options.minHeight)+"px"))}var t=this,i=t.options.onCursorActivity,n=t.win,o=n.document.body,r=null,s=null,a=2*t.frame.offsetTop;o.style.overflowY="hidden",n.document.documentElement.style.overflowY="hidden",this.frame.scrolling="no",setTimeout(e,300),t.options.onCursorActivity=function(t){i&&i(t),clearTimeout(s),s=setTimeout(e,100)}}},r.InvalidLineHandle={toString:function(){return"CodeMirror.InvalidLineHandle"}},r.replace=function(e){return"string"==typeof e&&(e=document.getElementById(e)),function(t){e.parentNode.replaceChild(t,e)}},r.fromTextArea=function(e,t){function i(){e.value=a.getCode()}function n(){i(),e.form.submit=s,e.form.submit(),e.form.submit=n}function o(t){e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}if("string"==typeof e&&(e=document.getElementById(e)),t=t||{},e.style.width&&null==t.width&&(t.width=e.style.width),e.style.height&&null==t.height&&(t.height=e.style.height),null==t.content&&(t.content=e.value),e.form&&("function"==typeof e.form.addEventListener?e.form.addEventListener("submit",i,!1):e.form.attachEvent("onsubmit",i),"function"==typeof e.form.submit)){var s=e.form.submit;e.form.submit=n}e.style.display="none";var a=new r(o,t);return a.save=i,a.toTextArea=function(){i(),e.parentNode.removeChild(a.wrapping),e.style.display="",e.form&&("function"==typeof e.form.submit&&(e.form.submit=s),"function"==typeof e.form.removeEventListener?e.form.removeEventListener("submit",i,!1):e.form.detachEvent("onsubmit",i))},a},r.isProbablySupported=function(){var e;return window.opera?Number(window.opera.version())>=9.52:/Apple Computer, Inc/.test(navigator.vendor)&&(e=navigator.userAgent.match(/Version\/(\d+(?:\.\d+)?)\./))?Number(e[1])>=3:document.selection&&window.ActiveXObject&&(e=navigator.userAgent.match(/MSIE (\d+(?:\.\d*)?)\b/))?Number(e[1])>=6:(e=navigator.userAgent.match(/gecko\/(\d{8})/i))?Number(e[1])>=20050901:(e=navigator.userAgent.match(/AppleWebKit\/(\d+)/))?Number(e[1])>=525:null},r}();