function method(n,e){return function(){n[e].apply(n,arguments)}}function forEach(n,e){if(n.next)try{for(;;)e(n.next())}catch(t){if(t!=StopIteration)throw t}else for(var r=0;r<n.length;r++)e(n[r])}function map(n,e){var t=[];return forEach(n,function(n){t.push(e(n))}),t}function matcher(n){return function(e){return n.test(e)}}function hasClass(n,e){var t=n.className;return t&&new RegExp("(^| )"+e+"($| )").test(t)}function removeClass(n,e){return n.className=n.className.replace(new RegExp(" "+e+"\\b","g"),""),n}function insertAfter(n,e){var t=e.parentNode;return t.insertBefore(n,e.nextSibling),n}function removeElement(n){n.parentNode&&n.parentNode.removeChild(n)}function clearElement(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function isAncestor(n,e){for(;e=e.parentNode;)if(n==e)return!0;return!1}function normalizeEvent(n){return n.stopPropagation||(n.stopPropagation=function(){this.cancelBubble=!0},n.preventDefault=function(){this.returnValue=!1}),n.stop||(n.stop=function(){this.stopPropagation(),this.preventDefault()}),"keypress"==n.type&&(n.code=null==n.charCode?n.keyCode:n.charCode,n.character=String.fromCharCode(n.code)),n}function addEventHandler(n,e,t,r){function o(n){t(normalizeEvent(n||window.event))}if("function"==typeof n.addEventListener){if(n.addEventListener(e,o,!1),r)return function(){n.removeEventListener(e,o,!1)}}else if(n.attachEvent("on"+e,o),r)return function(){n.detachEvent("on"+e,o)}}function nodeText(n){return n.textContent||n.innerText||n.nodeValue||""}function nodeTop(n){for(var e=0;n.offsetParent;)e+=n.offsetTop,n=n.offsetParent;return e}function isBR(n){var e=n.nodeName;return"BR"==e||"br"==e}function isSpan(n){var e=n.nodeName;return"SPAN"==e||"span"==e}var StopIteration={toString:function(){return"StopIteration"}},nbsp="Â ",matching={"{":"}","[":"]","(":")","}":"{","]":"[",")":"("};