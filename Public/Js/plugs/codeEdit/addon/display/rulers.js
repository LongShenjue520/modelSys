!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function r(e){for(var r=e.display.lineSpace.childNodes.length-1;r>=0;r--){var o=e.display.lineSpace.childNodes[r];/(^|\s)CodeMirror-ruler($|\s)/.test(o.className)&&o.parentNode.removeChild(o)}}function o(r){for(var o=r.getOption("rulers"),i=r.defaultCharWidth(),t=r.charCoords(e.Pos(r.firstLine(),0),"div").left,n=-r.display.scroller.offsetHeight,l=0;l<o.length;l++){var s,d=document.createElement("div"),f=null;"number"==typeof o[l]?s=o[l]:(s=o[l].column,f=o[l].className),d.className="CodeMirror-ruler"+(f?" "+f:""),d.style.cssText="left: "+(t+s*i)+"px; top: -50px; bottom: "+n+"px",r.display.lineSpace.insertBefore(d,r.display.cursorDiv)}}function i(e){r(e),o(e)}e.defineOption("rulers",!1,function(t,n,l){l&&l!=e.Init&&(r(t),t.off("refresh",i)),n&&n.length&&(o(t),t.on("refresh",i))})});