!function(r){r.fn.textSearch=function(a,t){var e,n={divFlag:!0,divStr:" ",markClass:"",markColor:"red",nullReport:!0,callback:function(){return!1}},l=r.extend({},n,t||{});e=l.markClass?"class='"+l.markClass+"'":"style='color:"+l.markColor+";'",r(this).find("span[rel='mark']").each(function(){r(this).parent().html(r(this).parent().text())}),r.regTrim=function(r){var a=/[\^\.\\\|\(\)\*\+\-\$\[\]\?]/g,t={};return t["^"]="\\^",t["."]="\\.",t["\\"]="\\\\",t["|"]="\\|",t["("]="\\(",t[")"]="\\)",t["*"]="\\*",t["+"]="\\+",t["-"]="\\-",t.$="$",t["["]="\\[",t["]"]="\\]",t["?"]="\\?",r=r.replace(a,function(r){return t[r]})},r(this).each(function(){var t=r(this);if(a=r.trim(a),""===a)return!1;var n=[];l.divFlag?n=a.split(l.divStr):n.push(a);var i=t.html();i=i.replace(/<!--(?:.*)\-->/g,"");var c=/[^<>]+|<(\/?)([A-Za-z]+)([^<>]*)>/g,s=i.match(c),o=0;r.each(s,function(a,t){/<(?:.|\s)*?>/.test(t)||(r.each(n,function(a,e){if(""!==e){var n=new RegExp(r.regTrim(e),"g");n.test(t)&&(t=t.replace(n,"♂"+e+"♀"),o=1)}}),t=t.replace(/♂/g,"<span rel='mark' "+e+">").replace(/♀/g,"</span>"),s[a]=t)});var u=s.join("");return r(this).html(u),0===o&&l.nullReport?!1:void l.callback()})}}(jQuery);