$.fn.peSlider=function(a){var e=$.extend({},a);return $("body").is("[role]")||$("body").attr("role","application"),$(this).each(function(){var t=$("label[for="+$(this).attr("id")+"]").attr("id",$(this).attr("id")+"-label").attr("id"),i=$(this).attr("data-units")||"",l=$("<div></div>");if($(this).is("input")){var r=$(this),i=r.attr("data-units"),n=r.val()+" "+i,d=$.extend(e,{min:parseFloat(r.attr("min")),max:parseFloat(r.attr("max")),value:parseFloat(r.val())});if(l.insertBefore(r).slider(d).bind("slide",function(a,e){r.val(e.value),n=r.val()+" "+i,l.find("a").attr({"aria-valuenow":e.value,"aria-valuetext":n,title:n})}).find("a").attr({role:"slider","aria-valuemin":r.attr("min"),"aria-valuemax":r.attr("max"),"aria-valuenow":r.val(),"aria-valuetext":n,title:n,"aria-labelledby":t}),r.keyup(function(){var a=parseFloat(r.val());isNaN(a)||(l.slider("value",a),r.val(l.slider("value")))}).blur(function(){var a=parseFloat(r.val());isNaN(a)&&r.val(0)}),!a.step){var s=Math.round(parseFloat(r.attr("max"))/l.width());s>1&&l.slider("option","step",s)}}else{var v=$(this),n=v.find("option").eq(v[0].selectedIndex).text()+" "+i,d=$.extend(e,{min:0,max:v.find("option").length-1,value:v[0].selectedIndex});l.insertBefore(v).slider(d).bind("slide",function(a,e){v[0].selectedIndex=e.value,n=v.find("option").eq(v[0].selectedIndex).text()+" "+i,l.find("a").attr({"aria-valuenow":e.value,"aria-valuetext":n,title:n})}).find("a").attr({role:"slider","aria-valuemin":0,"aria-valuemax":v.find("option").length-1,"aria-valuenow":v[0].selectedIndex,"aria-valuetext":n,title:n,"aria-labelledby":t}),v.bind("keyup change",function(){l.slider("value",v[0].selectedIndex)})}})};