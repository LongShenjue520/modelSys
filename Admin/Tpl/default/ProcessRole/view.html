<style>
.dutyul{margin-left: 1px;}
.dutyul >li{float:left;width:120px;}
.deptul{margin-left: 1px;}
.deptul >li{float:left;width:120px;}
</style>
<div class="pageContent">
	<form method="post" action="__URL__/update/navTabId/__MODULE__" class="pageForm required-validate" onsubmit="return validateCallback(this, navTabAjaxDone);">
		<input type="hidden" name="id" value="{$vo.id}" >
		<input type="hidden" name="callbackType" value="closeCurrent">
		<div class="pageFormContent applecloth" layoutH="56">
			<div class="keepContentCenter">
				<table width="100%" border="0" cellspacing="0" style="text-align: left;">
					<tr>
						<td colspan="2">
							<div class="unit">
								<label>角色名称：</label>
								<input type="text" name="name" value="{$vo.name}" class="required textInput" />
							</div>
						</td>
						<td colspan="2">
							<div class="unit">
								<label>备&nbsp;&nbsp;&nbsp;&nbsp;注：</label>
								<input type="text" name="remark" value="{$vo.remark}" class="textInput" />
							</div>
						</td>
					</tr>
					<tr>
						<td>
							<label>部门选择：</label>
						</td>
						<td>
							<div id="deptDivVal_edit" style="border:1px solid #d7d7d7;float:left;font-size:13px;height:60px;margin:0 0 6px;overflow:auto;padding:2px;width:266px;">
								{$deptCheckStr}
							</div>
						</td>
						<td>
							<label>用户选择：</label>
						</td>
						<td>
							<div id="userDivVal_edit" style="border:1px solid #d7d7d7;float:left;font-size:13px;height:60px;margin:0 0 6px;overflow:auto;padding:2px;width:266px;">
								{$userCheckStr}
							</div>
						</td>
					</tr>
					<tr>
						<td colspan="2"><input type="text" style="width:100px;" /><input type="button" value="搜索" onclick="textSearchKeys('deptStr_edit',this)"></td>
						<td colspan="2"><input type="text" style="width:100px;" /><input type="button" value="搜索" onclick="textSearchKeys('userStr_edit',this)"></td>
					</tr>
					<tr>
						<td width="50%" colspan="2">
							 <div class="testDiv" id="deptStr_edit">
               					<div style="border:1px solid #eaeaea;height:280px;overflow-y:scroll;padding:4px;">
									<ul class="deptul">{$deptStr}</ul>
								</div>
							</div>
						</td>
						<td colspan="2">
							<div style="border:1px solid #d7d7d7;border-bottom:none;">
								<table class="list" width="100%">
									<thead>
										<tr>
											<th width="35"><input type="checkbox" class="checkboxCtrl" group="userid[]" onclick="userChecked('userDivVal_edit',this,true,'userStr_edit')" /></th>
											<th width="45">序号</th>
											<th width="80">用户名</th>
											<th width="80">姓名</th>
											<th>部门</th>
										</tr>
									</thead>
								</table>
							</div>
							<div id="userStr_edit" style="border:1px solid #d7d7d7;border-top:none;height:266px;overflow-y:scroll;">
								<table class="list" width="100%" style="border-collapse:collapse;">
									<tbody>
										<volist id="item" name="userlist">
											<tr target="sid_role" rel="{$item['id']}">
												<td width="35"><input type="checkbox" name="userid[]" <?php echo $item['checked'] ? "checked" : "" ?> value="{$item['id']}" onclick="userChecked('userDivVal_edit',this)" /></td>
												<td width="45">{$item['id']}</td>
												<td width="80">{$item['account']}</td>
												<td width="80">{$item['name']}</td>
												<td>{$item['dept_id']|getFieldBy='id','name','mis_system_department'}</td>
											</tr>
										</volist>
									</tbody>
								</table>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<div class="formBar">
			<ul>
			<if condition="$_SESSION.a eq 1 or $_SESSION.processrole_update">
				<li><div class="buttonActive"><div class="buttonContent"><button type="submit">{$Think.lang.save}</button></div></div></li>
			</if>
				<li><div class="button"><div class="buttonContent"><button type="button" class="close">{$Think.lang.close}</button></div></div></li>
			</ul>
		</div>
	</form>
</div>